<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>X-Developers Test | PhineX</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #0f172a;
      color: #e2e8f0;
      line-height: 1.6;
    }

    .navbar {
      background-color: #1e293b;
      padding: 1rem 0;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.5rem;
      font-weight: 700;
      color: #60a5fa;
    }

    .logo i {
      font-size: 2rem;
    }

    .test-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }

    .test-header {
      text-align: center;
      margin-bottom: 2.5rem;
      padding: 2rem;
      background-color: #1e293b;
      border-radius: 12px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .test-header h1 {
      font-size: 2.25rem;
      margin-bottom: 0.75rem;
      background: linear-gradient(to right, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .test-header p {
      color: #94a3b8;
      font-size: 1.1rem;
    }

    .questions-container {
      background-color: #1e293b;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .question-card {
      margin-bottom: 2.5rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid #334155;
    }

    .question-card:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .question-title {
      font-size: 1.25rem;
      margin-bottom: 1.25rem;
      color: #f1f5f9;
      display: flex;
      gap: 0.75rem;
    }

    .question-number {
      background-color: #3b82f6;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }

    .options-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      background-color: #334155;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      background-color: #475569;
      transform: translateY(-2px);
    }

    .option.selected {
      background-color: #1e40af;
      border: 2px solid #3b82f6;
    }

    .option input {
      display: none;
    }

    .option-label {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #64748b;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .option.selected .option-label {
      background-color: #3b82f6;
      border-color: #3b82f6;
    }

    .option.selected .option-label:after {
      content: "âœ“";
      color: white;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .test-footer {
      text-align: center;
      margin-top: 2rem;
    }

    .btn-primary {
      background: linear-gradient(to right, #3b82f6, #8b5cf6);
      color: white;
      border: none;
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      margin: 0 auto;
      transition: all 0.3s ease;
      font-weight: 600;
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .thank-you {
      background-color: #1e293b;
      border-radius: 12px;
      padding: 3rem 2rem;
      text-align: center;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .hidden {
      display: none;
    }

    .success-message i {
      font-size: 4rem;
      color: #10b981;
      margin-bottom: 1.5rem;
    }

    .success-message h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: #f1f5f9;
    }

    .success-message p {
      color: #94a3b8;
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
    }

    .community-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .btn-secondary {
      background-color: #5865F2;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-secondary:hover {
      background-color: #4752c4;
      transform: translateY(-2px);
    }

    .result-container {
      background-color: #1e293b;
      border-radius: 12px;
      padding: 3rem 2rem;
      text-align: center;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }

    .result-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 2rem;
    }

    .result-score {
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
      background: linear-gradient(to right, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .result-message {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #f1f5f9;
    }

    .result-details {
      color: #94a3b8;
      margin-bottom: 2rem;
      font-size: 1.1rem;
    }

    .progress-bar {
      width: 100%;
      height: 20px;
      background-color: #334155;
      border-radius: 10px;
      margin: 2rem 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 10px;
      background: linear-gradient(to right, #3b82f6, #8b5cf6);
      transition: width 1.5s ease-in-out;
    }

    .failed-message {
      background-color: rgba(220, 38, 38, 0.1);
      border: 1px solid rgba(220, 38, 38, 0.3);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .failed-message h3 {
      color: #fca5a5;
      margin-bottom: 0.5rem;
    }

    .failed-message p {
      color: #fca5a5;
    }

    .celebration {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 20px;
      opacity: 0;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .pulse {
      animation: pulse 1.5s infinite;
    }

    @media (max-width: 768px) {
      .test-container {
        padding: 0 1rem;
      }
      
      .test-header h1 {
        font-size: 1.75rem;
      }
      
      .question-title {
        font-size: 1.1rem;
      }
      
      .community-links {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-primary, .btn-secondary, .btn-outline {
        width: 100%;
        justify-content: center;
      }
    }

    /* Timer specific CSS */
    .timer-container {
        background-color: #dc2626; /* Red background for urgency */
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-size: 1.2rem;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .timer-container i {
        font-size: 1.5rem;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <i class="fas fa-microscope"></i>
        <span>X-Developers Test</span>
      </div>
      <div class="timer-container">
        <i class="far fa-clock"></i>
        <span id="time">5:00</span> <!-- Placeholder for timer -->
      </div>
    </div>
  </nav>

  <main class="test-container">
    <div class="test-header" id="welcome-screen">
      <h1>Welcome to the X-Developers Test</h1>
      <p>This test contains 10 extremely hard questions. You have a limited time to complete them.</p>
      <p>Time limit: 5 minutes.</p>
      <button class="btn-primary" onclick="startTest()" style="margin-top: 10px;">
        <i class="fas fa-play"></i> Start Test
      </button>
      <a href="x-academy-pretest.html" class="btn-secondary" style="margin-top: 10px; display: inline-flex; align-items: center;">
        <i class="fas fa-arrow-left"></i> Back to Pre-Test Info
      </a>
    </div>

    <div class="questions-container hidden" id="questions-screen">
      <!-- Questions will be dynamically injected here by JavaScript -->
    </div>

    <div class="test-footer hidden" id="submit-footer">
      <button class="btn-primary" onclick="submitTest()">
        <i class="fas fa-check-circle"></i> Submit Test
      </button>
    </div>

    <div class="result-container hidden" id="result-screen">
      <!-- Results will be dynamically injected here -->
    </div>

  </main>
  
  <!-- JavaScript Code -->
  <script>
    const testQuestions = [
        {
          id: 1,
          question: "An element has `width: 300px; padding: 20px; border: 10px solid black; box-sizing: content-box;`. What is its total rendered width?",
          options: [
            { id: 'a', text: "300px", isCorrect: false },
            { id: 'b', text: "340px", isCorrect: false },
            { id: 'c', text: "360px", isCorrect: true },
            { id: 'd', text: "390px", isCorrect: false }
          ]
        },
        {
          id: 2,
          question: "In complex stacking contexts using CSS `position` and `z-index`, which property on a parent element can force a new stacking context *without* changing its `position` value away from static?",
          options: [
            { id: 'a', text: "margin", isCorrect: false },
            { id: 'b', text: "display", isCorrect: false },
            { id: 'c', text: "opacity (if < 1)", isCorrect: true },
            { id: 'd', text: "color", isCorrect: false }
          ]
        },
        {
          id: 3,
          question: "An HTML element has inline CSS `style=\"color: blue;\"`, a class rule `.text { color: green; }`, and an ID rule `#message { color: orange; }`. Which color will the text be?",
          options: [
            { id: 'a', text: "Green", isCorrect: false },
            { id: 'b', text: "Orange", isCorrect: false },
            { id: 'c', text: "Red (default)", isCorrect: false },
            { id: 'd', text: "Blue", isCorrect: true }
          ]
        },
        {
          id: 4,
          question: "A flex container is 500px wide. Two items inside have `width: 300px` and `flex-shrink: 1`. What is the final width of each item?",
          options: [
            { id: 'a', text: "300px", isCorrect: false },
            { id: 'b', text: "250px", isCorrect: true },
            { id: 'c', text: "200px", isCorrect: false },
            { id: 'd', text: "500px", isCorrect: false }
          ]
        },
        {
          id: 5,
          question: "What CSS technique can eliminate the whitespace between two adjacent `display: inline-block;` elements without modifying the HTML structure or using comments?",
          options: [
            { id: 'a', text: "Setting margin: -4px;", isCorrect: false },
            { id: 'b', text: "Setting font-size: 0; on the parent container", isCorrect: true },
            { id: 'c', text: "Setting word-spacing: -1em;", isCorrect: false },
            { id: 'd', text: "Setting white-space: nowrap;", isCorrect: false }
          ]
        },
        {
          id: 6,
          question: "Which HTML attribute pair makes a non-semantic `div` behave like a clickable button for screen readers and keyboard navigation?",
          options: [
            { id: 'a', text: "role=\"button\" and aria-pressed=\"false\"", isCorrect: false },
            { id: 'b', text: "type=\"button\" and tabindex=\"0\"", isCorrect: false },
            { id: 'c', text: "role=\"button\" and tabindex=\"0\"", isCorrect: true },
            { id: 'd', text: "aria-label=\"button\" and onclick=\"func()\"", isCorrect: false }
          ]
        },
        {
          id: 7,
          question: "Which statement accurately describes the difference between the HTML `<canvas>` and `<svg>` elements?",
          options: [
            { id: 'a', text: "< canvas > is for vector graphics, < svg > is for bitmap graphics.", isCorrect: false },
            { id: 'b', text: "< canvas > graphics are part of the DOM, < svg > graphics are not.", isCorrect: false },
            { id: 'c', text: "< canvas > is better for dynamic/game rendering; < svg > is better for static, resolution-independent diagrams.", isCorrect: true },
            { id: 'd', text: "< canvas > uses CSS width/height properties for its drawing surface size.", isCorrect: false }
          ]
        },
        {
          id: 8,
          question: "When an HTML form contains an `< input type=\"file\" >`, which `enctype` value must be set on the `< form >` element for a successful file upload?",
          options: [
            { id: 'a', text: "text/plain", isCorrect: false },
            { id: 'b', text: "application/x-www-form-urlencoded", isCorrect: false },
            { id: 'c', text: "multipart/form-data", isCorrect: true },
            { id: 'd', text: "application/json", isCorrect: false }
          ]
        },
        {
          id: 9,
          question: "Which HTML `< meta >` tag attribute is used to prevent a browser from caching the page for highly sensitive or real-time data?",
          options: [
            { id: 'a', text: "< meta name=\"viewport\" ... >", isCorrect: false },
            { id: 'b', text: "< meta http-equiv=\"refresh\" ... >", isCorrect: false },
            { id: 'c', text: "< meta name=\"robots\" ... >", isCorrect: false },
            { id: 'd', text: "< meta http-equiv=\"cache-control\" content=\"no-cache\" >", isCorrect: true }
          ]
        },
        {
          id: 10,
          question: "Which of the following is an invalid nesting structure according to HTML5 specification rules regarding flow/phrasing content?",
          options: [
            { id: 'a', text: "< div > < p >...< /p >< /div >", isCorrect: false },
            { id: 'b', text: "< p >< span >...< /span >< /p >", isCorrect: false },
            { id: 'c', text: "< span >< div >...< /div >< /span >", isCorrect: true },
            { id: 'd', text: "< ul >< li >...< /li >< /ul >", isCorrect: false }
          ]
        }
      ];


    // State variables
    let userAnswers = {};
    let timerInterval;
    const SECONDS_PER_QUESTION = 30; // 30 seconds per question
    const TOTAL_TIME = testQuestions.length * SECONDS_PER_QUESTION; // 10 questions * 30s = 300s (5 mins)
    let timeLeft = TOTAL_TIME;
    let timerExpired = false;

    // DOM Elements
    const welcomeScreen = document.getElementById('welcome-screen');
    const questionsScreen = document.getElementById('questions-screen');
    const submitFooter = document.getElementById('submit-footer');
    const resultScreen = document.getElementById('result-screen');
    const timeDisplay = document.getElementById('time');
    const timerContainer = document.querySelector('.timer-container');

    // Function to format time (MM:SS)
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    // Function to start the timer
    function startTimer() {
      timerInterval = setInterval(() => {
        timeLeft--;
        timeDisplay.textContent = formatTime(timeLeft);

        if (timeLeft <= 60) {
            timerContainer.style.backgroundColor = '#f97316'; // Orange for last minute
        }
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          timerExpired = true;
          submitTest();
        }
      }, 1000);
    }

    // Function to render questions
    function renderQuestions() {
      questionsScreen.innerHTML = ''; // Clear existing questions
      testQuestions.forEach((q) => {
        const questionCard = document.createElement('div');
        questionCard.classList.add('question-card');
        questionCard.innerHTML = `
          <div class="question-title">
            <span class="question-number">${q.id}</span>
            <span>${q.question}</span>
          </div>
          <div class="options-container" id="options-${q.id}">
            <!-- Options populated below -->
          </div>
        `;
        questionsScreen.appendChild(questionCard);

        const optionsContainer = document.getElementById(`options-${q.id}`);
        q.options.forEach((option) => {
          const optionDiv = document.createElement('div');
          optionDiv.classList.add('option');
          optionDiv.setAttribute('data-question-id', q.id);
          optionDiv.setAttribute('data-option-id', option.id);
          optionDiv.innerHTML = `
            <span class="option-label">${option.id.toUpperCase()}</span>
            <span>${option.text}</span>
          `;
          optionDiv.addEventListener('click', () => selectOption(q.id, option.id));
          optionsContainer.appendChild(optionDiv);
        });
      });
    }

    // Function to handle option selection
    function selectOption(questionId, optionId) {
      if (timerExpired) return;
      userAnswers[questionId] = optionId;
      
      // Update UI to show selection
      const options = document.querySelectorAll(`[data-question-id="${questionId}"]`);
      options.forEach(opt => opt.classList.remove('selected'));
      document.querySelector(`[data-question-id="${questionId}"][data-option-id="${optionId}"]`).classList.add('selected');
    }

    // Function to start the test
    function startTest() {
      welcomeScreen.classList.add('hidden');
      questionsScreen.classList.remove('hidden');
      submitFooter.classList.remove('hidden');
      timerContainer.classList.remove('hidden');
      renderQuestions();
      startTimer();
    }

    // Function to submit the test
    function submitTest() {
      clearInterval(timerInterval);
      questionsScreen.classList.add('hidden');
      submitFooter.classList.add('hidden');
      resultScreen.classList.remove('hidden');

      let correctAnswers = 0;
      testQuestions.forEach(q => {
        const userAnswerId = userAnswers[q.id];
        const correctOption = q.options.find(opt => opt.isCorrect);
        if (userAnswerId === correctOption.id) {
          correctAnswers++;
        }
      });

      const totalQuestions = testQuestions.length;
      const scorePercentage = (correctAnswers / totalQuestions) * 100;
      const timeTaken = TOTAL_TIME - timeLeft;
      const resultMessage = timerExpired ? "Time's up! Here are your results." : "Test Submitted Successfully!";
      const passMessage = scorePercentage >= 70 ? "Congratulations! You passed!" : "Keep practicing!";

      renderResult(correctAnswers, totalQuestions, scorePercentage, resultMessage, passMessage, timeTaken);
    }

    // Function to render the result screen
    function renderResult(correct, total, percentage, message, passMsg, timeTaken) {
      resultScreen.innerHTML = `
        <div class="result-header">
          <div class="result-score">${correct}/${total}</div>
          <div class="result-message">${passMsg}</div>
          <p class="result-details">${message}</p>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: ${percentage}%"></div>
        </div>
        <p>Your score: <strong>${percentage.toFixed(2)}%</strong></p>
        <p>Time Taken: <strong>${formatTime(timeTaken)}</strong></p>
        
        <div class="community-links">
            <a href="#" class="btn-secondary">
                <i class="fab fa-discord"></i> Join Discord
            </a>
            <button class="btn-primary" onclick="window.location.reload()">
                <i class="fas fa-redo"></i> Retake Test
            </button>
        </div>
      `;
    }
  </script>
</body>
</html>
